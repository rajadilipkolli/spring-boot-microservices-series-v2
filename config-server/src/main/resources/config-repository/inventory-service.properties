
resilience4j.retry.instances.inventory-api.maxAttempts=5
resilience4j.retry.instances.inventory-api.waitDuration=1s
resilience4j.retry.instances.inventory-api.enableExponentialBackoff=true
resilience4j.ratelimiter.instances.default.limitForPeriod=2
resilience4j.ratelimiter.instances.default.limitRefreshPeriod=10s
resilience4j.bulkhead.instances.default.maxConcurrentCalls=10
resilience4j.bulkhead.instances.inventory-api.maxConcurrentCalls=10

# Expose circuitbreaker and ratelimiter health indicators via actuator
management.health.circuitbreakers.enabled=true
management.health.ratelimiters.enabled=true

# Ensure circuitbreaker health indicator registration for default instance
resilience4j.circuitbreaker.configs.default.registerHealthIndicator=true
resilience4j.circuitbreaker.configs.default.slidingWindowSize=10
resilience4j.circuitbreaker.configs.default.minimumNumberOfCalls=5
resilience4j.circuitbreaker.configs.default.permittedNumberOfCallsInHalfOpenState=3
resilience4j.circuitbreaker.configs.default.automaticTransitionFromOpenToHalfOpenEnabled=true
resilience4j.circuitbreaker.configs.default.waitDurationInOpenState=5s
resilience4j.circuitbreaker.configs.default.failureRateThreshold=50
resilience4j.circuitbreaker.instances.default.baseConfig=default